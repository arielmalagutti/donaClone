<div
  class="w-full h-full flex flex-col px-10 py-10 gap-.75 bg-sideBar-light dark:bg-sideBar-dark rounded-3xl shadow-sm dark:shadow-sidebar overflow-y-auto"
  cdkDropList
  (cdkDropListDropped)="drop($event)"
>
  <a
    cdkDrag
    *ngFor="let list of todoLists; let i = index"
    [routerLink]="['/app', list.id]"
    href="#"
    [ngClass]="
      isSelected[i] ? 'bg-sideBar-item-light dark:bg-sideBar-item-dark' : ''
    "
    class="group relative w-full flex items-center justify-between px-3 py-[10px] gap-.75 dark:text-white rounded-xl overflow-hidden transition-colors duration-500"
    (click)="handleSelected(i)"
  >
    <div
      [ngClass]="{ 'opacity-50 translate-x-0': isSelected[i] }"
      class="w-12 h-12 opacity-0 absolute top-1/2 -left-6 -translate-x-20 -translate-y-1/2 bg-accent-green-100 rounded-1/2 blur-2xl transition-all duration-700"
    ></div>

    <div class="flex items-center gap-[14px]">
      <i
        *ngIf="list.icon?.includes('ph')"
        [ngClass]="[list.icon, !isEditing ? 'opacity-100' : '']"
        class="ph-bold text-sm"
      ></i>
      <app-dona-svg
        *ngIf="list.icon?.includes('dona')"
        [ngClass]="[list?.icon, !isEditing ? 'opacity-100' : '']"
        twClasses="h-[14px]"
        class="opacity-0 stroke-2 transition-opacity duration-500"
      ></app-dona-svg>
      <h2 class="text-sm font-medium text-ellipsis">{{ list.name }}</h2>
    </div>

    <span
      [ngClass]="
        isSelected[i]
          ? 'bg-[#e7e9ec] text-[#616870]'
          : 'bg-[#f2f4f7] text-[#8e939a]'
      "
      class="min-w-[28px] px-1 py-[2px] dark:bg-sideBar-itemLength-dark dark:text-sideBar-itemLength-dark text-xs font-semibold text-center rounded-lg transition-colors duration-300"
    >
      {{ list.todos?.length }}
    </span>
  </a>

  <button
    type="button"
    class="group w-full flex items-center justify-between pl-1 pr-4 py-2 gap-2 rounded transition-colors"
    (click)="createNewList()"
  >
    <div class="flex items-center gap-2 text-zinc-400">
      <span
        class="w-7 h-7 flex items-center justify-center p-1 group-hover:bg-[#F5F4F6] dark:group-hover:bg-[#F5F4F6]/10 rounded-lg transition-colors duration-500"
      >
        <i class="ph-bold ph-plus text-xs"></i>
      </span>

      <input
        #newListInput
        *ngIf="isEditing"
        type="text"
        placeholder="Insert a new to-do description"
        (blur)="onBlur()"
        (keyup.enter)="handleNewList(newListInput.value)"
        class="w-full text-sm bg-transparent outline-none"
      />
      <h2
        *ngIf="!isEditing"
        class="text-sm font-medium text-ellipsis group-hover:text-zinc-600 dark:group-hover:text-white transition-colors duration-500"
      >
        Create new list
      </h2>
    </div>

    <div class="flex items-center gap-[3px]">
      <span
        *ngIf="!isEditing"
        class="w-5 h-5 flex items-center justify-center bg-[#F5F4F6] dark:bg-sideBar-itemLength-dark p-1 text-zinc-400 text-xs font-semibold text-center rounded-[7px]"
      >
        <i class="ph-bold ph-command"></i>
      </span>

      <span
        *ngIf="!isEditing"
        class="w-5 h-5 flex items-center justify-center bg-[#F5F4F6] dark:bg-sideBar-itemLength-dark px-[6px] py-1 text-zinc-400 text-xs font-semibold text-center rounded-[7px]"
      >
        D
      </span>
    </div>
  </button>
</div>
