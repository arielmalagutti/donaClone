<div
  class="bg-sideBar-light dark:bg-sideBar-dark w-full h-full flex flex-col px-10 py-10 gap-.75 rounded-3xl shadow overflow-y-auto"
  cdkDropList
  (cdkDropListDropped)="drop($event)"
>
  <a
    cdkDrag
    *ngFor="let list of todoLists; let i = index"
    [routerLink]="['/app', list.id]"
    href="#"
    [ngClass]="isSelected[i] ? 'bg-sideBar-item-light' : ''"
    class="group relative w-full flex items-center justify-between px-2 py-2 gap-.75 rounded-xl overflow-hidden transition-colors duration-500"
    (click)="handleSelected(i)"
  >
    <div
      [ngClass]="{ 'opacity-100 translate-x-0': isSelected[i] }"
      class="w-12 h-12 opacity-0 absolute top-1/2 -left-6 -translate-x-20 -translate-y-1/2 bg-accent-purple-200 rounded-1/2 blur-2xl transition-all duration-700"
    ></div>

    <div class="flex items-center gap-3">
      <i [ngClass]="list.icon" class="ph-bold text-sm"></i>
      <h2 class="text-sm font-medium text-ellipsis">{{ list.name }}</h2>
    </div>

    <span
      [ngClass]="
        isSelected[i]
          ? 'bg-[#e7e9ec] text-[#616870]'
          : 'bg-[#f2f4f7] text-[#8e939a]'
      "
      class="min-w-[28px] px-1 py-[2px] text-xs font-semibold text-center rounded-lg group-hover:bg-[#e7e9ec] transition-colors duration-300"
    >
      {{ list.todos?.length }}
    </span>
  </a>

  <button
    type="button"
    class="group w-full flex items-center justify-between px-4 py-2 gap-2 rounded transition-colors"
    (click)="createNewList()"
  >
    <div class="flex items-center gap-2 text-zinc-400">
      <span
        class="group-hover:bg-[#F5F4F6] p-[4px] rounded transition-colors duration-500"
      >
        <i class="ph-bold ph-plus"></i>
      </span>
      <input
        #newListInput
        *ngIf="isEditing"
        type="text"
        placeholder="Insert a new to-do description"
        (blur)="onBlur()"
        (keyup.enter)="handleNewList(newListInput.value)"
        class="w-full text-sm bg-transparent outline-none"
      />
      <h2
        *ngIf="!isEditing"
        class="text-sm font-bold text-ellipsis group-hover:text-zinc-600 transition-colors duration-500"
      >
        Create new list
      </h2>
    </div>
    <div class="flex items-center gap-2">
      <span
        *ngIf="!isEditing"
        class="bg-[#F5F4F6] p-[4px] text-zinc-400 text-xs font-semibold text-center rounded"
      >
        <i class="ph-bold ph-command"></i>
      </span>
      <span
        *ngIf="!isEditing"
        class="bg-[#F5F4F6] p-[4px] text-zinc-400 text-xs font-semibold text-center rounded"
      >
        D
      </span>
    </div>
  </button>
</div>
