<div
  class="flex h-full w-full flex-col gap-.75 overflow-y-auto rounded-3xl bg-sideBar-light px-10 py-10 shadow-sm dark:bg-sideBar-dark dark:shadow-sidebar"
  cdkDropList
  (cdkDropListDropped)="drop($event)"
>
  <a
    cdkDrag
    *ngFor="let list of todoLists; let i = index"
    [routerLink]="['/app', list.id]"
    href="#"
    [ngClass]="
      isSelected[i] ? 'bg-sideBar-item-light dark:bg-sideBar-item-dark' : ''
    "
    class="group relative flex w-full items-center justify-between gap-.75 overflow-hidden rounded-xl px-3 py-[10px] transition-colors duration-500 dark:text-white"
    (click)="handleSelected(i)"
  >
    <div
      [ngClass]="{ 'translate-x-0 opacity-50': isSelected[i] }"
      class="absolute -left-6 top-1/2 h-12 w-12 -translate-x-20 -translate-y-1/2 rounded-1/2 bg-accent-green-100 opacity-0 blur-2xl transition-all duration-700"
    ></div>

    <div class="flex items-center gap-[14px]">
      <i
        *ngIf="list.icon?.includes('ph')"
        [ngClass]="[list.icon, !isEditing ? 'opacity-100' : '']"
        class="ph-bold text-sm"
      ></i>
      <app-dona-svg
        *ngIf="list.icon?.includes('dona')"
        [ngClass]="[list?.icon, !isEditing ? 'opacity-100' : '']"
        twClasses="h-[14px]"
        class="stroke-2 opacity-0 transition-opacity duration-500"
      ></app-dona-svg>
      <h2 class="text-ellipsis text-sm font-medium">{{ list.name }}</h2>
    </div>

    <span
      [ngClass]="
        isSelected[i]
          ? 'bg-[#e7e9ec] text-[#616870]'
          : 'bg-[#f2f4f7] text-[#8e939a]'
      "
      class="min-w-[28px] rounded-lg px-1 py-[2px] text-center text-xs font-semibold transition-colors duration-300 dark:bg-sideBar-itemLength-dark dark:text-sideBar-itemLength-dark"
    >
      {{ list.todos?.length }}
    </span>
  </a>

  <button
    type="button"
    class="group flex w-full items-center justify-between gap-2 rounded py-2 pl-1 pr-4 transition-colors"
    (click)="createNewList()"
  >
    <div class="flex items-center gap-2 text-zinc-400">
      <span
        class="flex h-7 w-7 items-center justify-center rounded-lg p-1 transition-colors duration-500 group-hover:bg-[#F5F4F6] dark:group-hover:bg-[#F5F4F6]/10"
      >
        <i class="ph-bold ph-plus text-xs"></i>
      </span>

      <input
        #newListInput
        *ngIf="isEditing"
        type="text"
        placeholder="Insert a new to-do description"
        (blur)="onBlur()"
        (keyup.enter)="handleNewList(newListInput.value)"
        class="w-full bg-transparent text-sm outline-none"
      />
      <h2
        *ngIf="!isEditing"
        class="text-ellipsis text-sm font-medium transition-colors duration-500 group-hover:text-zinc-600 dark:group-hover:text-white"
      >
        Create new list
      </h2>
    </div>

    <div class="flex items-center gap-[3px]">
      <span
        *ngIf="!isEditing"
        class="flex h-5 w-5 items-center justify-center rounded-[7px] bg-[#F5F4F6] p-1 text-center text-xs font-semibold text-zinc-400 dark:bg-sideBar-itemLength-dark"
      >
        <i class="ph-bold ph-command"></i>
      </span>

      <span
        *ngIf="!isEditing"
        class="flex h-5 w-5 items-center justify-center rounded-[7px] bg-[#F5F4F6] px-[6px] py-1 text-center text-xs font-semibold text-zinc-400 dark:bg-sideBar-itemLength-dark"
      >
        D
      </span>
    </div>
  </button>
</div>
